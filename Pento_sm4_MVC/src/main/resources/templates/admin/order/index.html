<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/admin :: content('List Order',~{this :: .aaa})}">

<head>
	<title th:text="${title}"></title>

</head>

<body>

	<div class="aaa">
		<div col-12>
			<h2 class="mb-2 page-title">
				List Order
			</h2>
			<div class="row my-4">
				<!-- Small table -->
				<div class="col-md-12">
					<div class="card shadow">

						<div class="card-body">
							<th:block th:if="${msg != null}">
								<div class="alert alert-primary" role="alert" th:if="${msg == 1}">
									Add Success
								</div>
								<div class="alert alert-danger" role="alert" th:if="${msg == 4}">
									<span class="fe fe-minus-circle fe-16 mr-2"></span>
									Delete Success
								</div>
								<div class="alert alert-primary" role="alert" th:if="${msg == 3}">
									Edit Success
								</div>


							</th:block>

							<!-- table -->
							<div id="dataTable-1_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">

								<div class="row">
									<div class="col-sm-12">
										<a th:href="@{/admin/order/add}"><button
												class="btn btn-primary float-right ml-3" type="button">Add
												more +</button></a>
										<table class="table datatables dataTable no-footer" id="dataTable-1" role="grid"
											aria-describedby="dataTable-1_info">
											<thead class="thead-dark">
												<tr role="row">

													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="#: activate to sort column ascending"
														style="width: 9.5625px;">Id</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Name: activate to sort column ascending"
														style="width: 120.075px;">User</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Name: activate to sort column ascending"
														style="width: 120.075px;">Branch</th>

													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Department: activate to sort column ascending"
														style="width: 20.65px;">Table</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Company: activate to sort column ascending"
														style="width: 10.2px;">Seat</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Address: activate to sort column ascending"
														style="width: 10.675px;">Children</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Address: activate to sort column ascending"
														style="width: 10.675px;">Status</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Address: activate to sort column ascending"
														style="width: 20.675px;">Time</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="Address: activate to sort column ascending"
														style="width: 20.675px;">Created</th>
													<th class="sorting" tabindex="0" aria-controls="dataTable-1"
														rowspan="1" colspan="1"
														aria-label="City: activate to sort column ascending"
														style="width: 9.9625px;">Action</th>

												</tr>
											</thead>
											<tbody>
												<tr th:each="order,orderIndex : ${orders}">
													<td th:text="${order.id}"></td>
													<td
														th:text="${'('+ order.user.phoneNumber +') '+order.user.lastName }">
													</td>
													<td th:if="${orderIndex.index < #lists.size(tables)}">
														<span th:text="${tables[orderIndex.index].branchs.name}"></span>
													</td>

													<td th:text="${order.tables.name}"></td>
													<td th:text="${order.totalMember}"></td>
													<td th:text="${order.children}"></td>
													<td th:text="${order.status}"></td>
													<td th:if="${orderIndex.index < #lists.size(times)}">
														<span
															th:text="${times[orderIndex.index].hours.name + ' ' + times[orderIndex.index].days.name+'/'+times[orderIndex.index].months.name+'/2024'}"></span>
													</td>
													<td th:text="${#dates.format(order.created, 'dd/MM/yyyy')}"></td>


													<td>
														<div class="dropdown">
															<button class="btn btn-sm dropdown-toggle" type="button"
																id="dr1" data-toggle="dropdown" aria-haspopup="true"
																aria-expanded="false">
																<span class="text-muted sr-only">Action</span>
															</button>
															<div class="dropdown-menu dropdown-menu-right"
																aria-labelledby="dr1" style="">
																<a class="dropdown-item"
																	th:href="@{'/admin/orderDetail/index/' + ${order.id} }"><button
																		type="button"
																		class="btn mb-2 btn-outline-info">View
																		details</button></a> <a class="dropdown-item"
																	th:href="@{'/admin/order/edit/' + ${order.id} }"><button
																		type="button"
																		class="btn mb-2 btn-outline-success">Edit</button></a>

																<a class="dropdown-item"
																	th:href="@{'/admin/order/delete/' + ${order.id} } "><button
																		type="button"
																		class="btn mb-2 btn-outline-danger">Delete</button></a>
															</div>
														</div>
													</td>
												</tr>
											</tbody>

										</table>
									</div>
								</div>

							</div>
						</div>


					</div>
				</div>
				<!-- simple table -->
			</div>
			<!-- end section -->

		</div>
	</div>

</body>

</html>